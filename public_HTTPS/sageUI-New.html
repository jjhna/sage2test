<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="utf-8">
<title>SAGE2 UI</title>
<!--<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">-->
<script type="text/javascript">
	// SAGE2 is available for use under the SAGE2 Software License 
	//      
	// University of Illinois at Chicago's Electronic Visualization Laboratory (EVL)
	// and University of Hawai'i at Manoa's Laboratory for Advanced Visualization and
	// Applications (LAVA)
	//      
	// See full text, terms and conditions in the LICENSE.txt included file
	//      
	// Copyright (c) 2014
</script>
<script type="text/javascript" src="src/websocket.io.js"></script>
<script type="text/javascript" src="src/SAGE2_interaction.js"></script>
<script type="text/javascript">
	window.URL = (window.URL || window.webkitURL || window.msURL || window.oURL);
	navigator.getUserMedia = (navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia);
	document.exitPointerLock = document.exitPointerLock || document.mozExitPointerLock || document.webkitExitPointerLock;
	
	function displayUI() {
		this.config = null;
		
		this.init = function(config) {
			var _this = this;
			this.config = config;
			this.logo = new Image();
			this.logo.onload = function(event) {
				_this.resize();
			};
			this.logo.src = "images/EVL-LAVA_UI.svg"
			this.logoAspect = 3.47828052509;
			this.fileDrop = false;
			this.fileDropFontSize = 12;
		};
		
		this.draw = function() {
			var i;
			var sage2UI = document.getElementById('sage2UI');
			var ctx = sage2UI.getContext('2d');
			
			// background
			ctx.fillStyle = "rgba(180, 180, 180, 1.0)";
			ctx.fillRect(0, 0, sage2UI.width, sage2UI.height);
			
			var logoX, logoY, logoW, logoH;
			if((sage2UI.width/sage2UI.height) <= this.logoAspect){
				logoW = sage2UI.width * 0.75;
				logoH = logoW / this.logoAspect;
			}
			else {
				logoH = sage2UI.height * 0.75;
				logoW = logoH * this.logoAspect;
			}
			logoX = sage2UI.width/2  - logoW/2;
			logoY = sage2UI.height/2 - logoH/2;
			ctx.drawImage(this.logo, logoX, logoY, logoW, logoH);
			
			// tiled display layout
			ctx.lineWidth = 2;
			ctx.strokeStyle = "rgba(86, 86, 86, 1.0)";
			var stepX = sage2UI.width/this.config.layout.columns;
			var stepY = sage2UI.height/this.config.layout.rows;
			ctx.beginPath();
			for(i=1; i<this.config.layout.columns; i++){
				ctx.moveTo(i*stepX, 0);
				ctx.lineTo(i*stepX, sage2UI.height);
			}
			for(i=1; i<this.config.layout.rows; i++){
				ctx.moveTo(0, i*stepY);
				ctx.lineTo(sage2UI.width, i*stepY);
			}
			ctx.closePath();
			ctx.stroke();
			
			// file drop overlay
			if(this.fileDrop === true){
				ctx.fillStyle = "rgba(255, 255, 255, 0.7)";
				ctx.fillRect(0, 0, sage2UI.width, sage2UI.height);
				
				var txt = "Drop multimedia files here";
				ctx.font = this.fileDropFontSize + "px Verdana";
				var txtWidth = ctx.measureText(txt).width;
				
				var textBoxWidth = Math.round(sage2UI.width*0.75);
				var lines = this.textLineCount(ctx, txt, textBoxWidth);
				var lineHeight = this.fileDropFontSize * 1.2;
				var textBoxHeight = lineHeight * lines;
				
				var textBoxX = (sage2UI.width-textBoxWidth) / 2;
				var textBoxY = (sage2UI.height-textBoxHeight) / 2;
				var textBoxRadius = this.fileDropFontSize * 0.5;
				ctx.textAlign = "center";
				ctx.fillStyle = "rgba(86, 86, 86, 0.7)";
				this.drawRoundedRect(ctx, textBoxX, textBoxY, textBoxWidth, textBoxHeight, textBoxRadius, true, false);
				
				var textStartX = sage2UI.width/2 + this.fileDropFontSize*0.175;
				var textStartY = sage2UI.height/2 - ((lines-1)/2)*lineHeight + this.fileDropFontSize*0.333;
				ctx.fillStyle = "rgba(255, 255, 255, 0.7)";
				this.wrapText(ctx, txt, textStartX, textStartY, textBoxWidth, lineHeight);
			}
		};
		
		this.drawRoundedRect = function(ctx, x, y, width, height, radius, fillFlag, strokeFlag) {
			ctx.beginPath();
			ctx.moveTo(x + radius, y);
			ctx.lineTo(x + width - radius, y);
			ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
			ctx.lineTo(x + width, y + height - radius);
			ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
			ctx.lineTo(x + radius, y + height);
			ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
			ctx.lineTo(x, y + radius);
			ctx.quadraticCurveTo(x, y, x + radius, y);
			ctx.closePath();
			if(fillFlag === true) ctx.fill();
			if(strokeFlag === true) ctx.stroke();
		};
		
		this.textLineCount = function(ctx, text, maxWidth) {
			var words = text.split(" ");
			var line = "";
			var count = 1;

			for(var n=0; n<words.length; n++) {
				var testLine = line + words[n] + " ";
				var testWidth = ctx.measureText(testLine).width;
				if(testWidth > maxWidth && n > 0) {
					line = words[n] + ' ';
					count++;
				}
				else {
					line = testLine;
				}
			}
			return count;
		};
		
		this.wrapText = function(ctx, text, x, y, maxWidth, lineHeight) {
			var words = text.split(" ");
			var line = "";

			for(var n=0; n<words.length; n++) {
				var testLine = line + words[n] + " ";
				var testWidth = ctx.measureText(testLine).width;
				if(testWidth > maxWidth && n > 0) {
					ctx.fillText(line, x, y);
					line = words[n] + ' ';
					y += lineHeight;
				}
				else {
					line = testLine;
				}
			}
			ctx.fillText(line, x, y);
		};
		
		this.resize = function() {
			var displayUI = document.getElementById('displayUI');
			var sage2UI = document.getElementById('sage2UI');
			var ctx = sage2UI.getContext('2d');
			//var fileDropArea = document.getElementById('fileDropArea');
			//var fileDropText = document.getElementById('fileDropText');
			var menuUI = document.getElementById('menuUI');
			
			var freeWidth   = window.innerWidth  - menuUI.offsetWidth - 30; // size of menu buttons
			var freeHeight  = window.innerHeight - 20;                 // size of 10px margin (top, bottom)
			
			var sage2Aspect = this.config.totalWidth / this.config.totalHeight;
			var freeAspect  = freeWidth / freeHeight;
			
			// wide sage2 display (compared to page)
			if(freeAspect < sage2Aspect) {
				sage2UI.width  = Math.floor(freeWidth);
				sage2UI.height = Math.floor(freeWidth / sage2Aspect);
				displayUI.style.marginLeft  = Math.floor((freeWidth-sage2UI.width) / 2 + 10).toString() + "px";
				displayUI.style.marginTop = "10px";
				menuUI.style.marginTop = ((sage2UI.height/2) - (menuUI.offsetHeight/2) + 10).toString() + "px";
			}
			// tall sage2 display (compared to page)
			else {
				sage2UI.height = Math.floor(freeHeight);
				sage2UI.width  = Math.floor(freeHeight * sage2Aspect);
				displayUI.style.marginLeft  = Math.floor((freeWidth-sage2UI.width) / 2 + 10).toString() + "px";
				displayUI.style.marginTop = "10px";
				menuUI.style.marginTop = ((sage2UI.height/2) - (menuUI.offsetHeight/2) + 10).toString() + "px";
			}
			if(sage2UI.height < menuUI.offsetHeight) {
				var dTop = (menuUI.offsetHeight-sage2UI.height) / 2;
				var mTop = 0;
				if(dTop < 10) {
					mTop = 10-dTop;
					dTop = 10;
				}
				displayUI.style.marginTop = dTop.toString() + "px";
				menuUI.style.marginTop = mTop.toString() + "px";
			}
			
			var minDim = Math.min(sage2UI.width, sage2UI.height);
			this.fileDropFontSize = Math.round(minDim * 0.075);
			
			this.draw();
		};
	}
	
	
	var wsio;
	var SAGE2DisplayUI;
	var interactor;
	
	var selectedAppEntry;
	var selectedFileEntry;
	
	function init() {
		hostname = window.location.hostname;
		port = window.location.port;
		if(window.location.protocol == "http:" && port == "") port = "80";
		if(window.location.protocol == "https:" && port == "") port = "443";
		
		wsio = new websocketIO(window.location.protocol, hostname, parseInt(port));
		wsio.open(function() {
			console.log("open websocket");
			interactor = new SAGE2_interaction(wsio);
			//window.postMessage('SAGE2_desktop_capture_enabled', "*");
			
			var clientDescription = {
				clientType: "sageUI",
				sendsPointerData: true,
				sendsMediaStreamFrames: true,
				requestsServerFiles: true,
				sendsWebContentToLoad: true,
				launchesWebBrowser: true,
				sendsVideoSynchonization: false,
				sharesContentWithRemoteServer: false,
				receivesDisplayConfiguration: true,
				receivesClockTime: false,
				requiresFullApps: false,
				requiresAppPositionSizeTypeOnly: true,
				receivesMediaStreamFrames: false,
				receivesWindowModification: true,
				receivesPointerData: false,
				receivesInputEvents: false,
				receivesRemoteServerInfo: false
			};
			wsio.emit('addClient', clientDescription);
		});
		
		// socket close event (i.e. server crashed)		
		wsio.on('close', function (evt) {
			var refresh = setInterval(function() {
				reloadIfServerRunning(function() {
					clearInterval(refresh);
				});
			}, 2000);
		});
		
		wsio.on('initialize', function(data) {
			interactor.setInteractionId(data.UID);
		});
		
		wsio.on('setupDisplayConfiguration', function(config) {
			SAGE2DisplayUI = new displayUI();
			SAGE2DisplayUI.init(config);
			
			var sage2Min  = Math.min(config.totalWidth, config.totalHeight);
			var screenMin = Math.min(screen.width, screen.height);
			interactor.setPointerSensitivity(sage2Min/screenMin);
		});
		
		wsio.on('availableApplications', function(data) {
			var appList = document.getElementById('appList');
			var appListContainer = document.getElementById('appListContainer');
			var size = parseInt(appListContainer.style.width, 10) / 4;
			
			removeAllChildren(appList);
			
			var i = 0;
			while(i < data.length){
				var row = document.createElement('tr');
				var appsPerRow = Math.min(data.length - i, 4);
				for(var j=0; j<appsPerRow; j++){
					var col = document.createElement('td');
					col.id = "app_row_" + data[i+j].exif.FileName;
					col.setAttribute("application", data[i+j].exif.FileName);
					col.style.verticalAlign = "top";
					col.style.textAlign = "center";
					col.style.width = size + "px";
					col.style.paddingTop = "12px";
					col.style.paddingBottom = "12px";
					var appIcon = document.createElement('img');
					appIcon.id = "app_icon_" + data[i+j].exif.FileName;
					appIcon.setAttribute("application", data[i+j].exif.FileName);
					appIcon.src = data[i+j].exif.SAGE2thumbnail;
					appIcon.width = parseInt(size * 0.8, 10);
					appIcon.height = parseInt(size * 0.8, 10);
					var appName = document.createElement('p');
					appName.id = "app_name_" + data[i+j].exif.FileName;
					appName.setAttribute("application", data[i+j].exif.FileName);
					appName.textContent = data[i+j].exif.metadata.title;
					col.appendChild(appIcon);
					col.appendChild(appName);
					row.appendChild(col);
				}
				appList.appendChild(row);
				i += appsPerRow;
			}
			
			showDialog('appLauncherDialog');
		});
		
		wsio.on('storedFileList', function(data) {
			document.getElementById('images-dir').checked   = false;
			document.getElementById('pdfs-dir').checked     = false;
			document.getElementById('videos-dir').checked   = false;
			document.getElementById('sessions-dir').checked = false;
			
			var images = document.getElementById('images');
			var videos = document.getElementById('videos');
			var pdfs = document.getElementById('pdfs');
			var sessions = document.getElementById('sessions');
			
			removeAllChildren(images);
			removeAllChildren(videos);
			removeAllChildren(pdfs);
			removeAllChildren(sessions);
			
			createFileList(data, "images",   images);
			createFileList(data, "videos",   videos);
			createFileList(data, "pdfs",     pdfs);
			createFileList(data, "sessions", sessions);
			
			showDialog('mediaBrowserDialog');
		});
		
		var sage2UI = document.getElementById('sage2UI');
		
		window.addEventListener('dragover', preventDefault, false);
		window.addEventListener('dragend',  preventDefault, false);
		window.addEventListener('drop',     preventDefault, false);
	
		sage2UI.addEventListener('dragover',  preventDefault, false);
		sage2UI.addEventListener('dragend',   preventDefault, false);
		sage2UI.addEventListener('dragenter', fileDragEnter,  false);
		sage2UI.addEventListener('dragleave', fileDragLeave,  false);
		sage2UI.addEventListener('drop',      fileDrop,       false);
		
		document.addEventListener('click', pointerClick, false);
		document.addEventListener('dblclick', pointerDblClick, false);
		
		selectedAppEntry = null;
		selectedFileEntry = null;
		
		resizeDialogs();
	}
	
	function resize() {
		SAGE2DisplayUI.resize();
		resizeDialogs();
	}
	
	function resizeDialogs() {
		var windowAspect = window.innerWidth/window.innerHeight;
		
		var appListContainer = document.getElementById('appListContainer');
		appListContainer.style.width = (window.innerWidth/2 - 24).toString() + "px";
		appListContainer.style.height = (window.innerHeight/2 - 48).toString() + "px";
		var fileListElems = document.getElementById('fileListElems');
		fileListElems.style.width = (window.innerWidth/2 *0.6 - 24).toString() + "px";
		fileListElems.style.height = (window.innerHeight/2 - 48).toString() + "px";
		var metadata = document.getElementById('metadata');
		metadata.style.left = (window.innerWidth/2 *0.6 - 13).toString() + "px";
		metadata.style.width = (window.innerWidth/2 *0.4).toString() + "px";
		metadata.style.height = (window.innerHeight/2 - 48).toString() + "px";
		var sage2pointerHelp = document.getElementById('sage2pointerHelp');
		var sage2pointerHelpAspect = 1264.25/982.255;
		if(sage2pointerHelpAspect <= windowAspect){
			sage2pointerHelp.height = window.innerHeight * 0.7;
			sage2pointerHelp.width = sage2pointerHelp.height * sage2pointerHelpAspect;
		}
		else {
			sage2pointerHelp.width = window.innerWidth * 0.7;
			sage2pointerHelp.height = sage2pointerHelp.width / sage2pointerHelpAspect;
		}
	}
	
	function createFileList(list, type, parent) {
		for(var i=0; i<list[type].length; i++){
			var listElem = document.createElement("li");
			listElem.textContent = list[type][i].exif.FileName;
			listElem.id          = "file_" + list[type][i].exif.FileName;
			listElem.setAttribute("file", type+"/"+list[type][i].exif.FileName);
			parent.appendChild(listElem);
		}
	}
	
	function preventDefault(event) {
		event.preventDefault();
	}
	
	function fileDragEnter(event) {
		var sage2UI = document.getElementById('sage2UI');
		sage2UI.style.borderStyle = "dashed";
		SAGE2DisplayUI.fileDrop = true;
		SAGE2DisplayUI.draw();
	}
	
	function fileDragLeave(event) {
		var sage2UI = document.getElementById('sage2UI');
		sage2UI.style.borderStyle = "solid";
		SAGE2DisplayUI.fileDrop = false;
		SAGE2DisplayUI.draw();
	}
	
	function fileDrop(event) {
		event.preventDefault();
		
		// trigger file upload
		console.log("drop location: " + event.layerX + ", " + event.layerY);
		
		var sage2UI = document.getElementById('sage2UI');
		sage2UI.style.borderStyle = "solid";
		SAGE2DisplayUI.fileDrop = false;
		SAGE2DisplayUI.draw();
	}
	
	function pointerClick(event) {
		var element = event.srcElement;
		
		// SAGE2 UI Interaction
		if(element.id === "sage2UI") {
			console.log("sage2UI");
		}
		
		// Menu Buttons
		else if(element.id === "applauncher") {
			wsio.emit('requestAvailableApplications');
		}
		else if(element.id === "mediabrowser") {
			wsio.emit('requestStoredFiles');
		}
		else if(element.id === "arrangement") {
			showDialog('arrangementDialog');
		}
		else if(element.id === "settings") {
			showDialog('settingsDialog');
		}
		else if(element.id === "info") {
			
		}
		else if(element.id === "sharescreen") {
			
		}
		else if(element.id === "sage2pointer") {
			interactor.startSAGE2Pointer(element.id);
		}
		
		
		// App Launcher Dialog
		else if (element.id === "appOKBtn") {
			loadSelectedApplication()
			hideDialog('appLauncherDialog');
		}
		else if (element.id === "appCloseBtn") {
			selectedAppEntry = null;
			hideDialog('appLauncherDialog');
		}
		else if (element.id === "appDeleteBtn") {
			if(confirm("Are you sure you want to delete this app?")){
				selectedAppEntry = null;
				hideDialog('appLauncherDialog');
			}
		}
		
		// Media Browser Dialog
		else if (element.id === "fileOKBtn") {
			loadSelectedFile();
			hideDialog('mediaBrowserDialog');
		}
		else if (element.id === "fileCloseBtn") {
			selectedFileEntry = null;
			hideDialog('mediaBrowserDialog');
		}
		else if (element.id === "fileDeleteBtn") {
			if(confirm("Are you sure you want to delete this file?")){
				selectedFileEntry = null;
				hideDialog('mediaBrowserDialog');
			}
		}
		
		// Arrangement Dialog
		else if (element.id === "arrangementCloseBtn") {
			hideDialog('arrangementDialog');
		}
		
		// Settings Dialog
		else if (element.id === "settingsCloseBtn") {
			hideDialog('settingsDialog');
		}
		
		
		// Application Selected
		else if (element.id.length > 4 && element.id.substring(0, 4) === "app_") {
			var application = element.getAttribute("application");
			
			if(selectedAppEntry !== null) selectedAppEntry.style.backgroundColor = "transparent";
			selectedAppEntry = document.getElementById('app_row_' + application);
			selectedAppEntry.style.backgroundColor = "#B9D3FF";
		}
		
		// File Selected
		else if (element.id.length > 5 && element.id.substring(0, 5) === "file_") {
			var file = element.getAttribute("file");
			
			if(selectedFileEntry !== null) selectedFileEntry.style.backgroundColor = "transparent";
			selectedFileEntry = element;
			selectedFileEntry.style.backgroundColor = "#B9D3FF";
		}
		
		// Other
		else {
			//console.log("clicked on: ", element);
		}
	}
	
	function pointerDblClick(event) {
		var element = event.srcElement;
		
		if (element.id.length > 4 && element.id.substring(0, 4) === "app_") {
			loadSelectedApplication();
			hideDialog('appLauncherDialog');
		}
		else if (element.id.length > 5 && element.id.substring(0, 5) === "file_") {
			loadSelectedFile();
			hideDialog('mediaBrowserDialog');
		}
	}
	
	function loadSelectedApplication() {
		if(selectedAppEntry !== null) {
			var application = selectedAppEntry.getAttribute("application");
			console.log("loading " + application);
		}
	}
	
	function loadSelectedFile() {
		if(selectedFileEntry !== null) {
			var file = selectedFileEntry.getAttribute("file");
			console.log("loading " + file);
		}
	}
	
	function showDialog(id) {
		var blackoverlay = document.getElementById('blackoverlay');
		var dialog = document.getElementById(id);
		blackoverlay.style.display = "block";
		dialog.style.display = "block";
	}
	
	function hideDialog(id) {
		var blackoverlay = document.getElementById('blackoverlay');
		var dialog = document.getElementById(id);
		blackoverlay.style.display = "none";
		dialog.style.display = "none";
	}
	
	function sagePointerEnabled() {
		// show SAGE2 Pointer dialog
		showDialog('sage2pointerDialog');
	}
	
	function sagePointerDisabled() {
		// hide SAGE2 Pointer dialog
		hideDialog('sage2pointerDialog');
	}
	
	function removeAllChildren(node) {
		while (node.lastChild) {
    		node.removeChild(node.lastChild);
		}
	}
	
	function reloadIfServerRunning(callback) {
		// make a dummy request to test the server every 2 sec
		xhr = new XMLHttpRequest();
		xhr.open("GET", "/", true);
		xhr.onreadystatechange = function() {
			if(xhr.readyState == 4 && xhr.status == 200){
				console.log("server ready");
				// when server ready, callback
				callback();
				// and reload the page
				window.location.reload();
			}
		};
		xhr.send();
	}
</script>

<link rel="stylesheet" type="text/css" href="css/style_ui.css" media="screen" />
</head>

<body onload="init()" onresize="resize()">
	<div id="mainUI">
		<div id="displayUI">
			<canvas id="sage2UI"></canvas>
		</div>
		<div id="menuUI">
			<div id="sage2pointerContainer" class="uiButton">
				<img id="sage2pointer" src="images/sage2pointer.svg" width="48" height="48"></img>
				<p>SAGE2 Pointer</p>
			</div>
			<div id="sharescreenContainer" class="uiButton">
				<img id="sharescreen" src="images/sharescreen.svg" width="48" height="48"></img>
				<p>Share Screen</p>
			</div>
			<div id="applauncherContainer" class="uiButton">
				<img id="applauncher" src="images/applauncher.svg" width="48" height="48"></img>
				<p>App Launcher</p>
			</div>
			<div id="mediaBrowserContainer" class="uiButton">
				<img id="mediabrowser" src="images/mediabrowser.svg" width="48" height="48"></img>
				<p>Media Browser</p>
			</div>
			<div id="arrangementContainer" class="uiButton">
				<img id="arrangement" src="images/arrangement.svg" width="48" height="48"></img>
				<p>Arrangement</p>
			</div>
			<div id="settingsContainer" class="uiButton">
				<img id="settings" src="images/settings.svg" width="48" height="48"></img>
				<p>Settings</p>
			</div>
			<div id="infoContainer" class="uiButton">
				<img id="info" src="images/info.svg" width="48" height="48"></img>
				<p>Info</p>
			</div>
		</div>
	</div>
	<div class="clear"></div>
	
	<!-- transparent black overlay for all dialogs -->
	<div id="blackoverlay"></div>
	
	<!-- dialog for the SAGE2 Pointer Help -->
	<div id="sage2pointerDialog" class="dialog">
		<img id="sage2pointerHelp" src="images/SAGE2Pointer-help.svg"></img>
	</div>
	
	<!-- dialog for the App Launcher-->
	<div id="appLauncherDialog" class="dialog">
		<div id="appListContainer">
			<table id="appList">
			</table>
		</div>
		<div id="appButtons">
			<span id="appOKBtn" class="button">OK</span>
			<span id="appCloseBtn" class="button">Close</span>
			<span id="appDeleteBtn" class="button">Delete</span>
		</div>
	</div>
	
	<!-- dialog for the Media Browser -->
	<div id="mediaBrowserDialog" class="dialog">
		<div id="fileTreeList" class="css-treeview">
			<ul id="fileListElems">
				<li>
					<input type="checkbox" id="images-dir"></input>
					<label for="images-dir">Images</label>
					<ul id="images" class="fileItem"></ul>
				</li>
				<li>
					<input type="checkbox" id="pdfs-dir"></input>
					<label for="pdfs-dir">PDFs</label>
					<ul id="pdfs" class="fileItem"></ul>
				</li>
				<li>
					<input type="checkbox" id="videos-dir"></input>
					<label for="videos-dir">Videos</label>
					<ul id="videos" class="fileItem"></ul>
				</li>
				<li>
					<input type="checkbox" id="sessions-dir"></input>
					<label for="sessions-dir">Sessions</label>
					<ul id="sessions" class="fileItem"></ul>
				</li>
			</ul>
		</div>
		<div id="metadata">
			<img id="thumbnail" src="images/blank.png"></img>
			<label id="metadata_text"></label>
		</div>
		<div id="fileButtons">
			<span id="fileOKBtn" class="button">OK</span>
			<span id="fileCloseBtn" class="button">Close</span>
			<span id="fileDeleteBtn" class="button">Delete</span>
		</div>
	</div>
	
	<!-- dialog for the Arrangement-->
	<div id="arrangementDialog" class="dialog">
		<div id="arrangementItems">
			<p>Test 01</p>
			<p>Test 02</p>
			<p>Test 03</p>
		</div>
		<div id="arrangementButtons">
			<span id="arrangementCloseBtn" class="button">Close</span>
		</div>
	</div>
	
	<!-- dialog for the Settings-->
	<div id="settingsDialog" class="dialog">
		<div id="settingsItems">
			<p>Test 01</p>
			<p>Test 02</p>
			<p>Test 03</p>
		</div>
		<div id="settingsButtons">
			<span id="settingsCloseBtn" class="button">Close</span>
		</div>
	</div>
</body>
</html>

